<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
  <include file="struts-default.xml" />
  <constant name="struts.enable.DynamicMethodInvocation" value="true" />
  <constant name="struts.convention.result.path" value="/templates/default/" />
  <!-- <constant name="struts.convention.result.flatLayout" value="true" /> -->
  <!-- <constant name="struts.convention.action.suffix" value="Controller" /> -->
  <!-- <constant name="struts.convention.action.mapAllMatches" value="true" /> -->
  <constant name="struts.convention.default.parent.package" value="default" />

  <constant name="struts.devMode" value="true" />
  <constant name="struts.convention.classes.reload" value="true" />
  <constant name="struts.freemarker.manager.classname" value="com.igearbook.resulttype.CustomFreemarkerManager" />

  <package name="default" namespace="/" extends="struts-default">
    <interceptors>
      <interceptor name="igearbook" class="com.igearbook.interceptor.FreemarkerContextInterceptor" />
      <interceptor-stack name="defaultStackIgearbook">
        <interceptor-ref name="alias" />
        <interceptor-ref name="servletConfig" />
        <interceptor-ref name="i18n" />
        <interceptor-ref name="prepare" />
        <interceptor-ref name="chain" />
        <interceptor-ref name="scopedModelDriven" />
        <interceptor-ref name="modelDriven" />
        <interceptor-ref name="fileUpload" />
        <interceptor-ref name="checkbox" />
        <interceptor-ref name="multiselect" />
        <interceptor-ref name="staticParams" />
        <interceptor-ref name="actionMappingParams" />
        <interceptor-ref name="params">
          <param name="excludeParams">dojo\..*,^struts\..*,^session\..*,^request\..*,^application\..*,^servlet(Request|Response)\..*,parameters\...*</param>
        </interceptor-ref>
        <interceptor-ref name="conversionError" />
        <interceptor-ref name="validation">
          <param name="excludeMethods">input,back,cancel,browse</param>
        </interceptor-ref>
        <interceptor-ref name="workflow">
          <param name="excludeMethods">input,back,cancel,browse</param>
        </interceptor-ref>
        <interceptor-ref name="debugging" />

        <interceptor-ref name="igearbook" />
      </interceptor-stack>
    </interceptors>
  </package>

</struts>
